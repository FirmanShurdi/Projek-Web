<%- include('../partials/header') %>

<div class="container">
    <% if (success) { %>
        <div class="alert alert-success"><%= success %></div>
    <% } %>
    <% if (error) { %>
        <div class="alert alert-danger"><%= error %></div>
    <% } %>

    <h2 class="my-4">Daftar Kapal</h2>
    <a href="/kapal/create" class="btn btn-primary mb-3">Tambah Kapal</a>
    
    <div class="table-responsive">
        <table class="table table-striped table-hover">
            <thead class="table-dark">
                <tr>
                    <th>ID</th>
                    <th>Nama Kapal</th>
                    <th>Pemilik</th>
                    <th>DPI</th>
                    <th>Alat Tangkap</th>
                    <th>Aksi</th>
                </tr>
            </thead>
            <tbody>
                <% data.forEach(function(kapal) { %>
                <tr>
                    <td><%= kapal.id_kapal %></td>
                    <td><%= kapal.nama_kapal %></td>
                    <td><%= kapal.nama_pemilik || '-' %></td>
                    <td><%= kapal.nama_dpi || '-' %></td>
                    <td><%= kapal.nama_alat_tangkap || '-' %></td>
                    <td>
                        <a href="/kapal/edit/<%= kapal.id_kapal %>" class="btn btn-sm btn-warning">Edit</a>
                        <a href="/kapal/delete/<%= kapal.id_kapal %>" class="btn btn-sm btn-danger" onclick="return confirm('Yakin ingin menghapus kapal ini?')">Hapus</a>
                    </td>
                </tr>
                <% }); %>
            </tbody>
        </table>
    </div>
</div>

<%- include('../partials/footer') %>